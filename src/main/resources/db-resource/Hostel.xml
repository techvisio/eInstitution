<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>

<entry key="getHostelAvailability">
    <![CDATA[
SELECT 
	HI.THRESHOLD,
	HI.TYPE_CODE,
	HI.DESCRIPTION,
	HI.PRICE,
	COUNT(HR.TYPE_CODE) AS RESERVED_ROOM,
	HI.THRESHOLD-COUNT(HR.TYPE_CODE) AS AVAILABLE
	 
FROM Roomtypemaster HI left JOIN  hostelreservation HR ON HI.Type_Code = HR.Type_Code GROUP BY HI.Type_Code;        
    ]]>

	</entry>




	<entry key="deleteHostelAllocation">
    <![CDATA[
      
Delete from RoomAllocationDetail where File_No=:File_No;
    ]]>

	</entry>
	<entry key="deleteHostelInventory">
    <![CDATA[
      
Delete from Roomtypemaster where Type_Code=:Type_Code;

    ]]>

	</entry>

	<entry key="deleteHostelReservation">
    <![CDATA[
      
Delete from HostelReservation where File_No=:File_No;  
    ]]>

	</entry>
	<entry key="deleteRoomTypeDetail">
    <![CDATA[
      
Delete from RoomTypeDetail where Type_Code=:Type_Code;  
    ]]>

	</entry>

	<entry key="getCurrentAllocation">
    <![CDATA[
      
   select 
   sd.File_No,
   sd.Registration_No,
   sd.First_Name,
   sd.Last_Name,
   sd.Father_name,
   sd.Gender,
   sd.DOB,
   sd.Enroll_No,
   sd.Course_Id,
   sd.Branch_Id,
   sd.Semester,
   sd.Academic_Year,
   sd.Batch_Id,
   sd.Section_Id,
   sd.Session_Id,
   sd.Shift_Id,
   sd.Centre_Id,
   sd.Lateral,
    rtd.Room_No,
    rtm.Room_Capacity
     
   from studentdetail sd join room_Allocation_Detail rad on rad.file_no = sd.File_No
    join roomtypedetail rtd on rad.Room_No = rtd.Room_No
     join roomtypemaster rtm on rtd.Type_Code = rtm.Type_Code
      where rad.isAllocated=1 and rtd.Room_No=:Room_No;   ]]>

	</entry>

</properties>
