<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>

	<entry key="getAvailableTransport">
    <![CDATA[
Select

tm.Threshold,tm.Route_Code, tm.Description, tm.Price,count(tr.Route_Code) as Reserved_Seat,tm.Threshold-count(tr.Route_Code) as Available_Seat

from TransportMaster tm left join transportReservation tr on tm.Route_Code=tr.Route_Code group by tm.Route_Code;    ]]>

	</entry>

	<entry key="deleteTransportReservation">
    <![CDATA[
 
 Delete from TransportReservation where File_No=:File_No;
 
 
    ]]>

	</entry>
	<entry key="deleteTransportAllocation">
    <![CDATA[
 Delete from TransportAllocation where File_No=:File_No;

    ]]>

	</entry>

	<entry key="getPreviousAllocatedDetail">
    <![CDATA[
 
select 
	File_No,
	Vehicle_Id,
	Allocated_on,
	Allocated_By,
	Updated_by,
	Switched_On,
	isAllocated,
	Remark
	  
from transportallocation where File_No=:File_No and isAllocated = 0;
 
 
    ]]>
	</entry>
	
	<entry key="getCurrentAllocation">
    <![CDATA[
      
select 
   sd.File_No,
   sd.Registration_No,
   sd.First_Name,
   sd.Last_Name,
   sd.Father_name,
   sd.Gender,
   sd.DOB,
   sd.Enroll_No,
   sd.Course_Id,
   sd.Branch_Id,
   sd.Semester,
   sd.Academic_Year,
   sd.Batch_Id,
   sd.Section_Id,
   sd.Session_Id,
   sd.Shift_Id,
   sd.Centre_Id,
   sd.Lateral,
   ta.Vehicle_Id,
   vd.Capacity
   
   from studentdetail sd join transportallocation ta on sd.File_No = ta.File_No
   join vehicledetail vd on ta.Vehicle_Id = vd.Vehicle_Id where ta.isAllocated = 1 and ta.Vehicle_Id = :Vehicle_Id
     ]]>

	</entry>
</properties>